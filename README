
## config.yml
copy config.yml.example to config.yml

## Check:

Check:
  getget_url: 'https://aaa.bbb.com/api'
  getget_lines: 2 # from vm:0, from cloud:1
  try_cnt: 3
  try_sleep: 30 # sec

if getget_lines == 2
getget_url should return this format (in text/html):

ok ones:
2023-12-15 23:15:43 OK
2023-12-15 23:15:55 OK

not ok ones (if it is not ok, it followed by some error numbers):
2023-12-15 23:15:43 OK 12 8
2023-12-15 23:15:55 OK


## cron
run cron in crontab.txt:
*/5 * * * * $HOME/life_codes/alert_sms_telegram/check_friDay.sh >> /tmp/jie_aa.txt 2>&1 


## SMS:
eventually i found a better way than sms, it's telegram. and it's free.

SMS:
  sms_cmd: 'curl -k -s -o /dev/null -X POST https://api.telegram.org/botXXX:YYY/sendMessage -d chat_id=ZZZ '

check inside check_friDay.py, the actual shell command is:
$ curl -k -s -o /dev/null -X POST https://api.telegram.org/botXXX:YYY/sendMessage -d chat_id=ZZZ -d text="alert!text!"

i leverage telegram. this is how to get XXX,YYY,ZZZ in telegram

(0) install telegram

(1) add BotFather https://telegram.me/BotFather
    use this command in BotFather to create a Bot, suppose the Bot's name is @aaaBot
    /newbot 
    (suppose the Bot's name is @aaaBot)

    after this step, you will be notified by the secret token. 
    then you get the token in format like: 68998798798:AAh2cFwDKdh2c2CJAh2c
    this is XXX:YYY

(2) use BotFather /mybots
    select @aaaBot
    > Bot Settings
    > Channel Admin Rights 
    > Post in the channel [check]

(3) then you create a New Channel - Private or Public is all ok
	suppose this channel's name: my_alert_channel 
    suppose this channel's invite code is: https://t.me/+abcdefghijklmn (the private channel format)

(4) config your 'my_alert_channel' channel, 
    add @aaaBot as admin

(5) send a message to 'my_alert_channel'
    type anything, for example 'kkk' (this would be easy to grep)

(6) find chat_id
    you need a linux terminal. shell with curl:
	$ curl https://api.telegram.org/botXXX:YYY/getUpdates
	or 
	$ curl https://api.telegram.org/botXXX:YYY/getUpdates | grep 'kkk'
	then you find the chat_id, in this format: '452452341' or '-61341341'
	suppose it's ZZZ

(7) now you get all XXX, YYY, ZZZ, you could send the message to the channel 'my_alert_channel':
	$ curl -k -s -o /dev/null -X POST https://api.telegram.org/botXXX:YYY/sendMessage -d chat_id=ZZZ -d text="alert!text!"






